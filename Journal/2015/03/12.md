=== Thu, 12.2. ===

- prace - alto
  - 1-2
    - oprava bigint id v transakcich
    - recreate db na serveru
    - oprava seedu, seed db na serveru

    merged ClientChain and ClientCompany since ClientChain is now the only subclass
    updated Transaction model after schema changes
    updated db seeds
    updated migrations
    updated gems
    reannotated models
    regenerated spring binstubs

    updated canteen-transaction relations
    fixed db seeds

  - 2-6
    - oprava ClientCanteenRelation, StoredRelation a ClientAuth

    WIP: simplifying chain-canteen-client relations
    updated db schema - stored relation for user
    updated User
    - instead of client_canteen, client_chain, canteen_chain stores only client_chain and canteen
    updated ClientCanteenRelation
    - only indirect relations are now possible
    - CCR is now class instead of module
    - moved CCR::Base and Indirect functionality into CCR
    - removed CCR::Base, Direct, Indirect
    updated StoredRelation - stores only indirect relations
    updated ClientAuth - current_relation and show_canteen_selection? don't decorate all relations
    Canteen validates presence of chain
    updated ClientAuth spec

    WIP: simplifying chain-canteen-client relations
    removed Client#find_canteen_relation, #has_canteen_relation?, #add_canteen_relation
      and #remove_canteen_relation
    updated ClientCanteenRelation model specs

  - 7.45-9.45
    added chain selector to canteen edit instead of chain management
    - not setting @chains in edit
    - removed add_chain and remove_chain actions
    - pass chain id through CanteenForm update
    added foreign key error handlers to destroy actions
    moved some presentation logic from CanteenForm to CanteenDecorator
    fixed RelationDecorator
    fixed tuns of specs

    removed canteen management from client edit
    - not setting @canteens in controller
    removed canteens from client show
    simplified fiding of consumers in SessionsController
    - removed CanteenConsumer
    - finding consumers directly in SessionsController#client
    fixed tons of specs

  = 7h
