=== Tue, 31.3. ===

- prace - alto
  - 3-4 - hrani s datastore testy
  - 8.30-11

  = 3h30

== Objednavky ==
- při změně emailu se email klienta upraví okamžite (nejspíš by se mělo upravit až po potvrzení)
- při chybné registraci je path /auth, nikoli /auth/sign_up

[ ] opravit zobrazeni checkboxu ve formularich - funguje u prihlasovaciho formulare

== Rezervace ==
- events index dela spoustu db queries - projit log a opravit

== SQLAlchemy ==
- pokud je objekt detached, ale objekt teze identity uz je nacten v identity map,
  Session.add(puvodni_objekt) zarve chybou AssertionError: A conflicting state is already present in
  the identity map, i kdyz nad objektem nebyly provedeny zadne zmeny
- priklad:
>>> client = Client(card_id = 'test')
>>> Session.add(client)
>>> Session.commit()
>>> Session.close()
>>> Session.remove()
>>> client
<models.client.Client object at 0x7fdd255c24a8>
>>> inspect(client).detached
True
>>> inspect(client).identity_key
(<class 'models.client.Client'>, (12,))
>>> cl = Client.query.get(12)
>>> cl
<models.client.Client object at 0x7fdd255d6a20>
>>> client
<models.client.Client object at 0x7fdd255c24a8>
>>> cl == client
False
>>> Session.add(client)
AssertionError: A conflicting state is already present in the identity map for key (<class 'models.client.Client'>, (12,))
