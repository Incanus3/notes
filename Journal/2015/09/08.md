=== Tue, 8.9. ===

- 4-12 - rezervace
  WIP: updated reversal order models to reflect the new logic
  - renamed ReversalOrder to PartialReversalOrder (+ decorator)
  - renamed Order#reversal_order to #open_partial_reversal_order
  - PartialReversalOrder#confirm! no longer updates the original order
  - plain reversal registration now stores negated counts
  - updated Orders#reverse_payment_partially
  - started testing partial reversal with no existing partial reversals

  - thought through next steps in proper (complete and partial) reversal implementation

  WIP: updated services/orders/reversals spec
  - added ton of notes
  - split expectations according to responsibility
  - extracted common setup
  added BillFinder
  - moved methods from BillHelpers
  - now full fledged object usable from code
  - methods can be called on module in addition to including it (more explicity)

  WIP: finished testing of partial order reversal with no existing reversals

  Orders#reverse_payment now works correctly when order has already been partially reversed
  - Orders#reversal_order_for(original_order) computes remaining (unreversed) registration counts
  - updated spec

  Orders service methods must be called on module
  - can't be included (well it can, but no methods will be included)
  - marked private methods

  order can't be reversed when it is already completely reversed
  - Orders#reverse_payment returns AlreadyCompletelyReversed failure when all remaining counts are 0

  removed old notes

  extracted OrderReversals service from Orders service
  - moved Orders.reverse_payment to OrderReversals.complete
  - moved Orders.reverse_payment_partially to OrderReversals.partial
  - moved spec, split in two files - complete and partial

= 8h
