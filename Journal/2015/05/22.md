=== Fri, 22.5. ===

- prace - alto
  - 4-5.30
    - komunikace s evzou, rozmysleni propojeni uctu a objednavek/registraci/eventu, rozmysleni rout
      pro pepina, doplneni v redmine

  - 6-8 - zaevidovano
    updated administration after adding Product model
    - updated Events controller and views
    - added Products decorator, controller and views
    - added Products to admin tabs
    added validations
    - event validates presence of product
    - product validates uniqueness of card_number
    extracted BaseDecorator
    - implements link, admin_link, consumer_link, expects subclass to implement link_text
    - simplified EventDecorator
    added locales
    reannotated models

  - 8.30-2.30
    WIP: started reworking cart and order management …
    - added orders table with state, timestamps and reference to client
    - registration now references order instead of client
    - added ton of notes
    - Cart is the entity, that will be responsible for order management
      - creation of order upon first registration
      - deletion of order upon removal of last registration
      - adding and removing registrations to/from order
    - updated routes
    - started moving relevant logic from RegistrationsController to CartController
    - updated some calling code
    - introduced some strange bug with Registration validates_presence_of event
      - says 'event is a required field' even when it's set
      - from the sql it seems like it checks free capacity, even though the validation is currently
        disabled and debug print in free_capacity is not shown

    fixed strange bug with event presence validation …
    - calls registration.event.blank?, which calls empty?, which is overridden to return true when
      there are no participants
    updated ruby and dependencies

  = 9h30 (z toho 2 evidovany)
