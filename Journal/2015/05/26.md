=== Tue, 26.5. ===

- prace - alto
  - 4.30-5.30 - komunikace s evzou, aktualizace rezervaci na productionu, otesetovani zapisu pres ds
  - 6-10.30
  - 11-3

  - studium views - idealni by bylo vytvorit view pro tabulku registraci jako order_items a
    referencovat ji z eskacek - nemusely by byt odlisne definice foreign keys, jen odlisne views

  - rezervace
    updated dependencies

    updated order history - moved count before prices

    event list actions are hidden when cart closed, warning is displayed

    order history handles unsetting of client …
    - shows warning
    - orders = Order.none

    cart items are ordered by id - not changing positions upon update

    cart#pay_with_success now generates bill …
    - moved Payment::Process#generate_bills to Payment::Bill#generate
    - added Payment.fake_success, which calls Payment::Bill#generate
    - added order_id to AdvanceBillHeader and order_item_id to AdvanceBillItem

  - datastore
    renamed sk tables and fkey columns …
    - updated models
    added order and order item referencing columns
    - fkey constraints must be added manually, since they may reference different tables
    - updated models
    MissingRequiredField error message now includes class name

  - mongo-sk-client
    added order_id to BillHeader, order_item_id to BillItem

  = 9h30

[ ] otestovat
- idealne zobrazit ucet v historii objednavek, to by ale melo jit pres ds, nikoli primym pristupem k
  tabulkam -> vyzaduje routu pro vraceni uctu k objednavce (coz by melo jit indexem s vyhledanim)
- bude velmi zpomalovat nacteni historie
  - zvlast pokud se budu dotazovat na ucet ke kazde objednavce jednotlive
  - slo by resit ajaxem - nacist ucet k objednavce az pri jejim rozkliknuti
[ ] rozbehnout na serveru
    [ ] udelat initskript pro mongo-bill-sender

[ ] optimalizovat event list - dela tunu zbytecnych db queries
[ ] upravit stylovani wice grid tabulek
[ ] seznam klientu spoleha na to, ze kazdy klient ma vyplnene firstname a surname, coz ale nemusi
    platit pro prazdne klienty vytvorene v administraci
- bud je vyselectovat podle vyplneneho jmena, nebo podle existujici asociace s userem, ta je ale z
  druhe strany
