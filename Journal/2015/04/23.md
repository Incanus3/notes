=== Thu, 23.4. ===

- prace - alto
  - 10.30-12
    - odpoved kyzourovi
    - vytvoreni klientu pro AZ
    - zkoumani moznosti vyhledavani klienta podle prefixu client_id - substring, similar, regex

  - 2-4
    - pocatek vyvoje mongo-sk-client
      initial commit

  - 6-10.30
    - zdarne pokracovani
      added and loaded mongo connection configuration
      added models for BillHeader, BillItem, BillPayment and Bill, which embeds them all
      added BillSender which sends all new bills and updates their state
      added Blanket and Hash monkeypatches
      added basic specs

  = 8h

[ ] zprofilovat vyhledavani pres prefix pomoci SIMILAR TO, ~* a substringu (pres regex)
- LIKE bude nejspis nejrychlejsi, ale my potrebujeme zajistit, ze se matchuje cely prefix (vsechny
  pismenka pred cisly), jinak hrozi problem, pokud jeden prefix bude prefixem druheho
- to lze snadno zajistit extrakci prefixu pres substring, u regexu je nejspis treba lookahead

Client.where("substring(client_id from '^[A-Za-z]+') = ?", 'AZC')
Client.where("client_id ~* 'AZC\\d+'") - nelze pouzit ? escaping, nebot ten quotuje, coz nelze
uvnitr regularu

1.upto(10) { |i| num = i.to_s.rjust(5, '0'); Client.new(client_id: 'AZC' + num, card_id: num).save!(context: :administration) }
