=== Mon, 3.8. ===

- 4-10 - makro - castence zruseni objednavky
  showing both original and new registration counts, prices and totals
  - decorated ReversalOrder in controller
  - ReversalOrderDecorator decorates registrations and provides human readable totals
  - ReversalRegistrationDecorator decorates event and provides human readable prices
  - added ReversalOrder#new_total
  - updated view

  registration counts can be changed on partial reversal page
  - only modifies reversal registrations, not original ones - that will be done after confirmation
  - added count change forms to registration rows
  - added orders#change_registration_count route and controller action
    - finds reversal registration, sets count, saves, redirects back
  - added ReversalOrder#original_id, ReversalRegistration#original_id and #original_order_id
    - reversal registration can be found by the latter two
  - ReversalOrder#reversal_registration_for now returns ReversalRegistration objects
  - old method renamed to #plain_reversal_registration_for!
  - added #plain_reversal_registration_for (non-bang) - only finds, doesn't create
  - fixed ReversalRegistration
    - new_count was set to original_registration.count on initialization even if already changed and
      persisted
    - persisted? returned true when new_count == original_count even if already changed and persisted
  payments#reverse now redirects to order history, not event list or cart

- 10.30-12.30
  partial order reversal can be confirmed
  - original registration counts are reduced
  - reversal order state is changed to payment_reversed
  - added 'Confirm partial order reversal' button
  - added orders#confirm_parital_reversal route and controller action
  - added ReversalRegistration#update_original_registration_if_needed! and #reload
  - added ReversalOrder#confirm!
  - tested
  added to_be_reversed to open order states

= 8h
