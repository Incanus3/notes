=== Tue, 9.6. ===

- prace - alto
  - 10.45-12.45 - rezervace (auth)
    - pridani prihlaseni ne-makro zakaznika

  - 2-3 - rezervace (auth)
    - uprava editace profilu pro ne-makro zakaznika
    - nasazeni na server - presun registracnich zmen do masteru, rebase vetve add_csob_payment

  - 3-7 - rezervace (platby)
    - csob-payment-gw
      extracted Response object
      Payment no longer stores gateway, state or error message, it's just a dumb value object passed to
        InitRequest
      requests now store gateway
      only InitRequest stores payment, the others don't need it
      init and process_url methods moved from Payment to Gateway
      requests are no longer responsible for response translation - Response does this
      requests are no longer responsible for response signature verification - Response does this
      Response also serves as result object of public-interface methods

    - rezervace
      WIP: updated payment processing
      updated csob-payment-gw after major redesign
      extracted result object factories
      simplified Payment::Init
      PaymentsController#handle now delegates to Payment::Process service
      updated Payment::Process
      - it no longer takes cart
      - it handles successful payment
      updated binstubs

  - 8-10.30 - rezervace (platby)
    - csob-payment-gw
      Payment is verified upon inicialization

      InitRequest#perform raises error if request fails
      added response result codes

    - rezervace
      refactored payment spec
      - extracted expectation helpers

      payments#handle now correctly handles cancellation of payment on gateway page
      - Payment services distinguish between RequestFailure and PaymentFailure
      - controller handles these
      - added translations
      - updated spec

      cart items and total are supplied to gateway
      extracted Payment::Init, Process and Bill to separate files
      minor refactorings

  = 9h30
