=== Tue, 28.7. ===

- 12-3 - makro - priprava na refaktor plateb, aby bylo mozne rozumne osetrit vsechny chyby
                 (revertovat provedene zmeny pri selhani nejake pozdejsi)
  - extrakce Orders.pay_by_card do service
  - Bill presunut z Payment a prejmenovan na Bills
  - Payment prejmenovan na Payments

  minor Order, Bill and UnfinishedOrderCloser changes

  extracted Orders.pay_by_card to service
  - payments#pay_by_card only redirects to payment gw or renders various error messages
  made service naming consistent
  - moved Bill service out of Payment module, renamed to Bills
  - renamed Payment service to Payments

- 10.30-12.30
  extracted Orders.pay_on_checkout
  - called by payments#pay_on_checkout
  - instead of matching exact success class, we now check success?

  extracted Orders.reverse
  - removed old code

  simplified PaymentsController
  - added repeate_later_message helper
  - added success and error flash types so that we may pass flash options directly to redirect_to

= 5h
