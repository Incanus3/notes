=== Thu, 9.7. ===

- 9.45-10.15 - rezervace - komunikace
  - telefonat s lenkou a kyzourem + komunikace s evzou ohledne background jobu pro uzavreni
    nedokoncenych plateb

- 11.30-12 - rezervace - komunikace
  - pokracovani v komunikaci ohledne bg jobu a alokaci kapacity (zda pri pridani do kosiku,
    zapoceti, nebo dokonceni platby)

- 12-12.45 - administrativa
  - komunikace, aktualizace redmine

- 12.45-1.30 - rezervace - komunikace
  - dalsi komunikace

  added logo to bill
  updated bill title

- 1.30-2 - rezervace - ostatni
  - dalsi komunikace, update faktury, pocatek vraceni tabu s kategoriemi

- 2.30-3.15 - rezervace - ostatni
  enabled event category tabs

  added event filtering by product card_number

- 4-4.45 - rezervace - ostatni
  hid total capacity and reserved capacity columns from event list

  handled case when no valid events are found for any month
  => selected_month = nil
  extracted memoized client registrations into ClientRegistrations query object
  fixed specs

- 4.45-6.45 - rezervace - ostatni
  fixed payment specs
  - reorganized helpers
  - reversion specs are run as admin - client can no longer cancel order
    - fixed client selection for js specs - chosen hides the actual select input
  - checking trade terms
  - updated capybara-webkit allow_url config

- 6.45-7.45 - rezervace - alokace kapacity
  started testing event capacity allocation
  - added basic 'add to cart' spec
  - overrided Faker::Time since between, forward and backward only take date into account
    e.g. Faker::Time.forward(Time.now) may return today time before now

  registrations are no longer confirmed before payment
  - since event.free_capacity takes into consideration only confirmed registrations, it no longer
    considers previous client's registrations in standing order, thus the capacity checks had to be
    changed

- 7.30-10 - rezervace - alokace kapacity
  free capacity is rechecked and registrations are confirmed on payment init
  capacity is freed on payment cancel on csob page
  tested

  tested capacity deallocation on payment reverse

  updated event list
  - free capacity takes into account current client's pending registrations in addition to all
    confirmed registrations

= 10h
