=== Tue, 21.7. ===

- 1-7 - makro zapis uctu pred iniciaci platby
  - prvni funkcni synchronni zapis uctu do datastore a pouziti cisla uctu jako orderNum v platebni
    brane

- 7.30-9.30 - makro zapis uctu pred iniciaci platby
  - update uctu pri prijeti/zruseni platby

- mongo-sk-client
  added BillSender#send_bill!
  - instead of logging errors and retrying later, raises wrapped exceptions
  BillSender no longer accesses settings directly
  - they are read by sender script (or test) and passed to initializer
  renamed BillSender#send to #send_bill, otherwise shadows BasicObject#send
  updated spec
  - checks datastore access
  - creates order and passes order.id to bill header
  - orders pruned before each test
  updated dependencies

  added bill_sender to required files
  moved datastore access check from spec helper to BillSender

  renamed Order to BillOrder to avoid name collision

  BillSender.check_datastore_access! now raises specific errors

  BillSender now sends bill type updates too
  - added BillTypeUpdate
  - BillSender#send_all sends sk_header type update requests for each ready/retry BillTypeUpdate
  - tested happy path

  added error handling to bill type updates
  - extracted #with_error_handling and #with_error_wrapping macros
  - used for #send_bill, #send_bill! and #send_bill_update
  - extracted error handling fields from Bill into StatefulErrorHandling concern
  - included in BillTypeUpdate

= 8h
