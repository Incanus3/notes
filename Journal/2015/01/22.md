=== Thu, 22.1. ===

- prace - fs
  - 1.30-2 - reseni deploy ruain s vosou

- prace - alto
  - 2.30-3.30
    - komunikace s evzou
    - pridani ceny k udalostem
    - postahovani navodu k GP webpay

  - 6-7.45
    - studium GP webpay
    - vytvoreni issues k mailum od lucky

  - 8-8.45
    added category to events, added category tabs
    - added migration
    - added category validation, Event.categories and Event.in_category(c)
    - added nav to view
    - events#index accepts category param
    - updated seeds

    added all category tab
    event list defaults to first category

  - 9-10.30
    fixed highlighting of current event category
      when the first one is automatically selected
    - highlighting was done by bh automatically by comparing current_page with
      the tab link, but in this case current_page is /events, but tab link is
      /events?category=<...>
    - bh overrides link_to to add the surrounding li tag, so we can't surround it
      with another one
    - forked bh and added no_container option to their link_to helper
    - used in events#index view and added custom li tag
    added category to event factory

    - bh:
    added no_container option to link_to helper

    removed ruby 2.0 ** syntax
    fixed side-efect of removing :no_container option from args
    added spec

  = 5h

=== GP webpay ===
== request ==
https://3dsecure.gpwebpay.com/<banka>/order.do
- get (redirect) nebo post (z formulare)
- content-type x-www-form-urlencoded
- https (serverovy certifikat GPE)
https://3dsecure.gpwebpay.com/kb/order.do?
MERCHANTNUMBER=9999999021&
OPERATION=CREATE_ORDER&
ORDERNUMBER=126019299255&
AMOUNT=100&
CURRENCY=203&
DEPOSITFLAG=0&
MERORDERNUM=124759102034&
URL=https%3A%2F%2Fwww.testmerchant.com%2Fresponse.jsp&
DESCRIPTION=Nakup&
MD=B8E5AD3CEBE760E95921FCBC4D92C7&
DIGEST=DZE8zJ%2BjORdQm3

Obchodník, zavedený v GP webpay pod číslem 9999999021, požaduje vytvoření
objednávky, která bude mít v GP webpay číslo 126019299255.  Obchodník ve svém
systému eviduje tuto objednávku pod číslem 124759102034, toto číslo chce mít na
výpisu z platebních karet své banky.  Držitel karty bude hradit částku 1,- Kč
bez okamžitého požadavku na uhrazení objednávky (DEPOSITFLAG=0).  Pokyn k úhradě
částky zadá později prostřednictvím GUI nebo pomocí rozhraní WebServices.
Obchodník požaduje zaslání odpovědi na URL adresu
https://www.testmerchant.com/response.jsp

Obchodník přikládá popis objednávky s hodnotou Nakup a dále pak přikládá data
určená pro privátní účely obchodníka obsažena v poli MD – base64 kódována.  Na
důkaz platnosti dat přikládá podpis zaslaných dat – zde uvedený podpis má pouze
popisný charakter – reálná hodnota podpisu v požadavku je přímo závislá na
obsažených datech a použitém klíči.

Pro výpočet podpisu obchodník použije hodnotu (vždy se používají čisté původní
hodnoty, funkce URLEncode se používá pouze pro přenos dat mezi prohlížečem
zákazníka a platební stránkou):

9999999021|CREATE_ORDER|126019299255|100|203|0|124759102034|https://www.testmerchant.com/response.jsp|Nakup|B8E5AD3CEBE760E95921FCBC4D92C7

=== Rails ===
v change_table pravdepodobne nefunguje option index u definice sloupce
