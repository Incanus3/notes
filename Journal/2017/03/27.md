=== Mon, 27.3. ===

== Integrace EET v rezervacnim systemu pro makro ==

- implementace API klienta v Ruby
  - serializace pozadavku a deserializace odpovedi
  - osetreni vsech chyb, ke kterym muze dojit
    - pri spatne zkonstruovanem pozadavku (napr. nepovolene hodnoty jednotlivych poli)
    - pri komunikaci s API
    - pri komunikaci EET sluzby s Wincor API
  - jejich simulace a testovani
- rozsireni SK datastore o EET sloupce
  - aktualizace zavislosti datastore, opravy po zmenach v zavislostech
- zobecneni a rozsireni asynchronniho senderu
  - pro asynchronni posilani uctu do datastore pouziva rezervacni system podurny modul, ktery
    docasne uklada ucty, pripadne jejich updaty, v MongoDB databazi a dodatecne je posila
  - ucty je treba posilat asynchronne, nebot nelze dopustit, aby po uspesnem zaplaceni objednavky
    kartou transakce selhala na zapisu uctu do datastore
  - modul musi na zaklade ruznych typu chyb bud zaevidovat docasne selhani a opakovat zaslani
    pozdeji, nebo zaevidovat kriticke selhani a notifikovat spravce o chybe
  - tento modul bylo treba zobecnit a pote rozsirit o moznost 1) hlaseni transakci EET API a
    2) posilani updatu EET sloupcu uctu
  - zobecneni modulu znamenalo jej z velke casti prepsat
  - soucasne byla zvysena odolnost modulu vuci drive nepredpokladanym selhanim a chybam soubehu
- aktualizace rezervacniho systemu
  - pridany nove konfiguracni volby pro EET
  - pridany nove EET sloupce k objednavce
  - pridano hlaseni transakce EET sluzbe a doposlani update EET sloupcu uctu v pripade uspesne
    platby kartou
  - aktualizace existujici implementace posilani uctu do datastore po rozsahlych upravach
    asynchronniho senderu
  - aktualizace zavislosti rezervacniho systemu, opravy po zmenach v zavislostech
