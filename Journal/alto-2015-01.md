=== soucet ===

3.5 + 3.5 + 2 + 4 + 3 + 3.5 + 1 + 1 + 10 + 8.5 + 5 + 4 + 7.5 + 6.5 + 2 = 65

=== Sat, 3.1. ===

- prace - alto
  - 3.30-5
    - projiti Bills v datastore
    - domluveni pozadavku s evzou
    - zvazeni vnorenych klientskych atributu jako JSON na urovni postgresu
    - vytvoreni zakladu pro test billu

  - 5.30-7.30
    added spec scatch for bills with todo notes
    Clients: replaced phone column by personal and address String columns
    - removed phone from factory

    added Bills model with table schemas for headers, items and payments

  = 3h30

=== Sun, 4.1. ===

- prace - alto
  - 3-6.30
    - renamed sk tables, added foreign keys

    moved feature tests into tests/features
    modified conttest runner to find tests in subdirectories

    moved headers, items and payments tables into separate models
    added Bills wrapper model
    - provides creation of bill with header, items and payments
    - instance remembers sk_fin id and can find corresponding header, items and
      payments
    added factories
    tested model

    added BillsHandler, bound to /bills route
    - implements POST which extracts bill parts from request, passes them to
      Bills.create() and renders response from created header, items and payments
    - tested
    JSONEncoder now converts Decimal numbers to strings
    - renamed from DateTimeEncoder since it no longer encodes just DateTimes

  = 3h30

=== Mon, 5.1. ===

- prace - alto
  - 9.30-10.15
    implemented GET /bills/:id
    - added Bills.find(id)
    - added BillHandler
      - moved bill rendering to BillingHandler, subclassed by Bill(s)Handler
    - added route
    - tested

    implemented GET /bills/:id/header, /bills/:id/items and /bills/:id/payments
    - added handlers and routes
    - tested

  - 10.45-12
    - snaha o nasazeni datastore_py na server
      - reseni deploy klicu
      - snaha o opravu initskriptu

  = 2h

=== Thu, 8.1. ===

- prace - alto
  - 2.30-3
    - projiti restore skriptu pro tabulku klientu, sepsani rozdilu, vytvoreni
      gistu

  - 3.45-4.30
    - konzultace s evzou
    - import clientu do tabulky client2
      - sestaveni insertu, zkraceni statutu
      - zvetseni velikosti client_id a card_id na 255
      - problem s nullovymi card_id

  - 5.30-6.15
    - import klientu s vyplnenymi card_id, email, firstname, surname
    - vytvoreni rake tasku pro vytvoreni useru ke klientum
    - merge feature branch do masteru
    - deploy na server

  - 8.30-10.30
    - snaha o opraveni initskriptu
    - status_of_proc musi dostat prvni parametr, protoze ho predava funkci
      pidofproc, ktera testuje jeho pritomnost, i kdyz ho nevyuzije
    - kdyz predame $name jako oba parametry (druhy je jmeno, ktere se pouzije ve
      vypisu), skript sluzbu spusti, ale status hlasi "not running" a ve vypisu
      netstatu neni program name
    - oprava status_of_proc
      - problem s mezerou navic na zacatku $pidfile

  = 4h

=== Fri, 9.1. ===

- prace - alto
  - 10-10.30
    - testovani initskriptu
      - start funguje
      - status vraci running, pokud existuje pidfile
      - stop ale nesmaze pidfile

  - 2.30-4.30, 5.30-6
    - vytvoreni uzivatelu ke klientum
      - cisteni tabulky klientu
        - odstraneni recordu s prazdnymi povinnymi udaji
        - odstraneni recordu s nevalidnim emailem
        - odstraneni recordu s duplicitnim emailem
      - uprava rake tasku

  = 3h

=== Sat 10.1. ===

- prace - alto
  - 12.30-12.45
    - znovuspusteni tasku pro vytvoreni useru

  - 2.15-3
    - restart tasku, uprava outputu
    - zkoumani queries, ktere skript dela, studium eager_loadu/preloadu

  - 5-5.30
    - vycisteni useru bez klientu, znovuvytvoreni admina
    - testovani vytvorenych useru a editace jejich profilu

  - 5.30-6.30
    - pridani checkboxu pro odsouhlaseni obchodnich podminek
      - vytvoreni custom inputu
      - studium kodu, abych zjistil, jak do nej dostat optiony predane
        metode form.input

  - 1-2
    - zvazovani predelani registracniho formulare a editaci profilu na form
      objecty

  = 3h30

=== Mon, 12.1. ===

- prace - alto
  - 6.30-7.30
    - telefonat s evzou, domluva s luckou na navsteve prahy
    - oprava transakcni historie

  = 1h

=== Tue, 13.1. ===

- prace - alto
  - 10.45-11.15 - komunikace s evzou
  - 11.45-12.15 - oprava initskriptu, komunikace

  = 1

=== Thu, 15.1. ===

- prace - alto
  - 10-17, 18-21 - praha

  = 10h

=== Wed, 21. 1. ===

- prace - alto
  - 5-5.30
    - komunikace s evzou a luckou
    - vytvoreni repa pro objednavky

  - 6-7
    added navbar with root nav, login info and login/logout/sign in links
    fixed rendering of alerts
    enabled bootstrap javascripts
    annotated user model
    added notes for entities

    changed NOTES to markdown

  - 7.30-11.30
    created scatch for event list feature spec
    added testing gems, spec helpers, Guardfile

    added basic event list
    - added Event model and migration
    - added events#index action and route
    - added link to navigation
    - added view with table

    client can now register for events
    - added Client model and #register(event)
    - added Registration model (belongs_to Client, Event)
    - User belongs_to Client
    - added migrations
    - added registrations#create action and route
    - added register links to events#index
    ordered events by start
    generating events in db/seeds
    added development gems

    added list of registrations with cancel links
    - added registrations#index and #destroy acions
    - added view for registration#index with table
    navigation cards are now properly highlighted when active
    - added NavbarHelper#active_if_controller
    - used for navigation links' classes

    events now have capacity
    registration may be made for several participants

  - 12-3
    colored events by free status (empty, full, almost full, free)
    - added Event#participant_count, #empty?, #full? and #free_status
    - added EventDecorator with #class_for_free_status
    - decorated events in controller
    - added class to table column
    participant count is limited by free capacity in view

    added capistrano
    - added gems
    - added basic configs

    fixed event list spec
    - logged in before test
      - added user factory
      - added log_in shared context
    - added capacity to event
    - added validation for capacity

    tested registering for event
    - added event factory
    - added tags to events table
    renamed event columns to start_at and end_at

    tested registration cancelling
    - tagged registrations table

    added config.secret_key to devise initializer
    added config/secrets.yml to deploy linked files
    added puma server
    serving static assets in production
    added faker to all groups - needed for db:seed
    set home to events#index

    - deployed to server

  = 8h30

=== Thu, 22.1. ===

- prace - alto
  - 2.30-3.30
    - komunikace s evzou
    - pridani ceny k udalostem
    - postahovani navodu k GP webpay

  - 6-7.45
    - studium GP webpay
    - vytvoreni issues k mailum od lucky

  - 8-8.45
    added category to events, added category tabs
    - added migration
    - added category validation, Event.categories and Event.in_category(c)
    - added nav to view
    - events#index accepts category param
    - updated seeds

    added all category tab
    event list defaults to first category

  - 9-10.30
    fixed highlighting of current event category
      when the first one is automatically selected
    - highlighting was done by bh automatically by comparing current_page with
      the tab link, but in this case current_page is /events, but tab link is
      /events?category=<...>
    - bh overrides link_to to add the surrounding li tag, so we can't surround it
      with another one
    - forked bh and added no_container option to their link_to helper
    - used in events#index view and added custom li tag
    added category to event factory

    - bh:
    added no_container option to link_to helper

    removed ruby 2.0 ** syntax
    fixed side-efect of removing :no_container option from args
    added spec

  = 5h

=== Fri, 23.1. ===

- prace - alto
  - 4-8
    implemented and tested Weak class
    added notes to events#index view

    fixed bugs in Week
    - using date.cwyear in .around_date
    - using 28.12. as magic date in weeks_in_year
    added Week#==
    simplified Week#next
    simplified spec

    events are now filtered by week
    - added week selection to view (as pagination)
    - selected_category and selected_week are now helpers
    - controller filters events by week and category
    - controller passes available events, categories and weeks to view
    - extended Week model
    - added WeekDecorator
    - added Event.in_week scope
    - tested
    added rails-i18n

    added locales for devise and simple_form

    fixed rendering of prices

  = 4h

=== Sat, 24.1. ===

- prace - alto
  - 10-12.30
    simplified events#index view
    - got rid of rows and columns
    - moved event attribute rendering to its decorator
    - used active_if helper (moved from NavbarHelper to ApplicationHelper)

    added admin role, which can register event for any client
    - added role to User (enum)
    - added name to Client (validated)
    - added client select to registration form if admin
    - added client column to registrations table if admin
    - EventsController passes available clients to view
    - RegistrationsController uses either current_user.client and its registrations,
      or all registrations and client_id from form
    - updated seeds
    - tested

    added foreign key
    updated user bar - shows name for client, admin (email) for admin

    admin can add comment to registration
    - added migration
    - added field to view
    - controller passes comment to client.register
    - client.register passes comment to registrations.create!
    - tested
    changed t.index to add_index in all migrations

  - 1.15-2.45
    client select field is now searchable
    - added chosen-rails gem, required in application.js and .css
    - added coffee function to apply chosen to any .chosen-select elements
    - added chosen-select class to client select

    fixed bug - register button was hidden for normal user
    searching is now disabled if there's less than 10 clients

  - 6.15-7.15
    admin events table now shows form in next row
    - fixed spec
    since there were now 3 tests for adminhood, extracted events table into 2
      partials (client, admin)
    extracted registration forms into partials (client, admin)

    - studium modalnich dialogu (bude potreba pro rezervaci z rozvrhu, kde se
      fieldy urcite nevejdou do bunky)

  - 8-10.30
    registration by admin is done through modal dialog
    - reverted back to single events#index view, since only the actions column
      differs btw client and admin
    annotated models, factories and model specs

    registration validates free event capacity before creation
    controller shows error if registration fails
    fixed spec

    - snaha o pouziti simple_form_for pro registracni formular
    - rozsah a include_blank: false nefunguje u numerickeho pole
    - stylovani se bije s bootstrapem
      https://github.com/alxlit/bootstrap-chosen

  = 7h30

=== Thu, 29.1. ===

- prace - alto
  - 3-5 - projiti java kodu pro podepisovani a overovani podpisu
  - 5-6 - vytvoreni zakladni struktury a rozmysleni navrhu

  - 10.30-2
    defined Url, Merchant, Order and Operation classes
    - Url#url joins protocol, host and path
    - Operation#operation translates from symbol
    - Operation#depositflag translates from boolean
    - Order#currency translates from string to code
    RequestBuilder now receives instances of these
    - request joins url with params
    - order data is base64 encoded
    - values are escaped
    defined Parameters module to simplify translation of objects to parameter hashes

    added ResponseDecoder
    - finds response code pair in response body
    - translates codes to messages
    moved base64 md encoding from RequestBuilder to Order
    Order now converts ammount to cents

  = 6h30

=== Fri, 30.1. ===

- prace - alto
  - 1.15-3.15
    - studovani kryptografickych metod a podpory v ruby
      - EMSA­PKCS1­v1_5
      - RSA
      - ASN.1

  = 2h
