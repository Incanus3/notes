=== 14.8.2019 ===

== kroky nutne k vytvoreni noveho EET image ==

[*] nainstalovat novy raspbian
[*] pridat pyenv
  [*] detekovat korektne pyenv a existenci venvu
  [*] pustit pip install bud s --user pokud neni venv, nebo ve venvu, pokud existuje
  [*] update skript musi detekovat pyenv a podle toho nainstalovat spravny systemd config
[*] vyresit, aby se update script nepoustel vicekrat soucasne
  [*] vytvorit na zacatku lock file a na konci smazat
  [*] pred zacatkem testovat existenci lock file a pokud je a neni velmi stary, tak skoncit
    - pokud je stary, touchnout ho a pokracovat
  [*] opravit podminku, aby se nepoustely after-update skripty, pokud nejsou v repu zmeny
[*] opravit host-alter, aby nevymazal ostatni radky /etc/hosts
  [*] upravit
  [*] otestovat
[*] nastavit tak, aby prilis rychle nenicilo karty - ramdisk
[*] zeptat se stc, jestli ma smysl dal poustet nightly reboot
[*] poustet update.sh z cronu s nastavenou envvar EET_VIRTUALENV=eet3.7.4
[*] pridat update pro kasu
[ ] mergnout do masteru vetev s extrahovanymi knihovnami alto-utils a alto-eet-common a tu nasadit
    na krabicku, ze ktere se udela image
  [ ] nejprve dukladne otestovat a pak nasadit na server a po par dnech overit, ze funguje spravne
[ ] prepnout na prod.eet.cz
[ ] nastavit sitovani zpatky na default
[ ] vyresit, aby se image pri prvnim startu nafoukl

== ostatni ==

[ ] vyresit zaplnovani mista na apps
- pri zalohovani odstranit stare zalohy
- cistit container registry

=== faktury ===

25*1500=37500 - vyfakturovano
- instalace noveho serveru v cechach pro klienty s velkou zatezi (hajek, ct, cmss)
- instalace noveho staging serveru pro predvadeci appky, reseni problemu s DNS uvnitr firemni site
- reseni zalohovani apps serveru (redmine, gitlab, zabbix, sentry, mattermost)

45*1500=67500 - vyfakturovano
- pridani moznosti konfigurace backendu pres environment promenne
- rotace auth tokenu - radove zvyseni bezpecnosti autentifikace
- pocatecni navrh verzování API
  - moznost upravy existujici funkcionality (v tomto pripade pouziti rotujicich auth tokenu) bez rozbiti klientu

55*1500=82500 - vyfakturovano
- rozbehnuti CI/CD
  - automaticke testovani aplikaci a buildovani balicku, ze kterych se spousti na predvadecich serverech
    (nebo v budoucnu kdekoli jinde)
  - zobecneni tak, aby bylo mozne pouzit u vsech projektu
- integrace Sentry error trackingu (frontend, backend)

75*1500=112500 - vyfakturovano
- doreseni prolemu s EET pri vypadku site - stoji na DNS resolvingu
- dukladne testovani pred velkym upgradem EET
- samotny upgrade EET a oprava nekolika rozbitych krabickek
- priprava foodie na testovani a pridani EET
- extrakce EET klienta (pro pouziti ve foodie)
  - zbaveni zavislosti na djangu
  - zobecneni utilit, aby byly pouzitelne ve zbytku projektu
  - extrakce casti serveru, ktere lze vyuzit v klientu
  - doplneni zbytku klienta
  - zpetna uprava serveru tak, aby pouzival extrahovane knihovn
