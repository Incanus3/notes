https://github.com/Kilo-Org/kilocode/issues/2538
## Sending custom notifications to editable lists of users
### What the flow looks like
- an `Event` happens
- there are some registered `CustomNotification`s
	- these know which template should be used and how to get there params for it from the event
	- they also have an id, a name, a description and the `EventType` they can handle
- there are some `EmailRecipient` lists
- there are some registered `CustomNotificationSubscriptions`
	- these link the event (event type + resource address wildcard) to the custom notification (by id) + the email recipient list
- there will be an `EventSubscriber` implementation which will
	- find all subscriptions matching the event type and resource address (using `incorporates`)
	- for each of the matching subscriptions:
		- use its `CustomNotification` to get the template name and params
		- call `NotificationService.sendCustomNotification()` with the subscriptions recipient list and the template name and params
#### What we already have
- `NotificationService.sendCustomNotification()` method
	- can send a notification to recipient, which can be an `EmailRecipient`, which is actually a list of to/cc/bcc email addresses - exactly what we need
	- takes `templateName` and `templateParams`
#### What we'll need
- the new interfaces:
```kotlin
interface CustomEventNotification {
	val id: String
	val name: String
	val description: String

    val eventType: EventType
	val templateName: String
	
	fun templateParamsFor(event: Event)
}

interface CustomEventNotificationSubscription {
	val resourceAddressWildcard: Address
	val notification: CustomEventNotification
	val recipientList: 
}
```
- the ability to store the `EmailRecipient` lists in a db table and manage them in the UI
	- a db entity + repository
	- an artifact wrapping the db entity, so that we can use `RegistryController` to manage them
	- a registry viewset + list, create and detail renderers
- a db table to hold subscriptions - these will link an `Event` (+ a resource address wildcard) to
	- the recipient list
	- the custom notification
- a functional interface that will turn an `Event` or possibly a `Notification` into `(templateName, templateParams)` + some simple way to register these
	- we'll probably add a custom subclass for each even type, to make the definition simpler for users