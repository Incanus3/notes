== Postgres window functions ==
http://robots.thoughtbot.com/postgres-window-functions
http://www.postgresql.org/docs/18/tutorial-window.html
http://www.postgresql.org/docs/18/functions-window.html
http://robots.thoughtbot.com/active-record-eager-loading-with-query-objects-and-decorators