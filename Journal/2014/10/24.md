=== Fri, 24.10. ===

- prace - fs - vosa - joining scopes
  - 12-1.45 - reseni razeni tabulky podle sloupce v joinovane tabulce
    - Client has_many contracts, Contract has_many bills
    - chceme radit klienty podle ceny posledniho billu
      - idealni na window functions
      - slo by resit pomoci group_concat viz
        http://dev.mysql.com/doc/refman/5.5/en/group-by-functions.html#function_group-concat
        http://code.openark.org/blog/mysql/sql-selecting-top-n-records-per-group
  - 1.45-5.30 - hledani rozumneho reseni
    - https://git.friendlysystems.cz/snippets/7
    - volani joins(Bill.highest_for_each_contract) v Contract.with_highest_bills
      nefunguje
    - relace by se dala vcelku pekne vytvorit arelem, ale nenasel jsem rozumny
      zpusob, jak ji prelozit zpet na AR::Relation, lze prelozit pouze na Array
      recordu pomoci Model.find_by_sql(arel_table.to_sql)
    - arel relace se da predat Model.where, ale pouze tehdy, pokud nedela
      projekci (a nejspis ani dalsi veci, pouze podminky)

  = 5h30
