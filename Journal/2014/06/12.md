=== Thu, 12.6. ===

- prace - alto
  - 6-7.30
    cleaned up specs for /clients/:id/transactions and .../find
    SpecHelpers#similar? coerces string to Time if time is expected

    simplified Transaction.insert
    disabled transaction create and update routes

    changed get /insert-trans to post /transactions
    duplicated as post /clients/:id/transactions
    simplified spec
    updated info page

== Rails ==
http://reefpoints.dockyard.com/ruby/2012/04/03/use-association-extensions-to-build-join-attributes-on-a-hmt.html

class Group < ActiveRecord::Base
  has_many :memberships
  has_many :users, :through => :memberships

  has_many :admins, :through => :memberships, :source => :user,
    :conditions => "memberships.role = 'admin'" do
      def <<(admin)
        proxy_association.owner.memberships.create(:role => 'admin', :user => admin)
      end
  end

  has_many :editors, :through => :memberships, :source => :user,
    :conditions => "memberships.role = 'editor'" do
      def <<(editor)
        proxy_association.owner.memberships.create(:role => 'editor', :user => editor)
      end
  end
end

http://www.jackkinsella.ie/2014/06/06/a-comprehensive-guide-to-debugging-rails.html
