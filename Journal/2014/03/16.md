=== Sun, 16.3. ===

- prace - fs
  - 4-5 - nastudovani passengeru, vytvoreni configu pro passenger
  - 5-7.30 - nastaveni PassengerRuby na 2.1.1, problem s native extension
  = 3h30

http://api.rubyonrails.org/classes/ActiveRecord/Aggregations/ClassMethods.html


https://github.com/sstephenson/rbenv/issues/337
https://github.com/sstephenson/rbenv/wiki/Understanding-binstubs
https://www.google.com/search?q=passenger+ruby+versions&ie=utf-8&oe=utf-8&aq=t&rls=org.mozilla:en-US:unofficial&client=iceweasel-a

http://www.modrails.com/documentation/Users%20guide%20Apache.html#capistrano

- use PassengerUser, PassengerGroup instead of itk

*** Phusion Passenger: no passenger_native_support.so found for the current Ruby interpreter. Compiling one...
# mkdir -p /usr/local/rvm/gems/ruby-1.9.2-p320/gems/passenger-3.0.18/ext/ruby/ruby-2.1.1-x86_64-linux
# cd /usr/local/rvm/gems/ruby-1.9.2-p320/gems/passenger-3.0.18/ext/ruby/ruby-2.1.1-x86_64-linux
/usr/local/rvm/gems/ruby-1.9.2-p320/gems/passenger-3.0.18/lib/phusion_passenger/platform_info/ruby.rb:166:in `expand_path': couldn't find HOME environment -- expanding `~' (ArgumentError)

http://serverfault.com/questions/546924/installing-phusion-passenger-4-0-20-on-ubuntu-13-10

- because passenger was installed using ruby 1.9.2, we use passenger 3.0.18
  instead of 4.0.38

- passenger potrebuje buildnout native extension pro ruby 2.1.1, ale z nejakeho
  duvodu ho builduje v
  /usr/local/rvm/gems/ruby-1.9.2-p320/gems/passenger-3.0.18/ext/ruby/ruby-2.1.1-x86_64-linux
  pravdepodobne proto, ze native extensions jsou v gems, ale 2.1.1
  gems/passenger vubec nema, nebot neni nainstalovan
- zkopirovani buildu nestaci - je zkompilovane proti jinemu ruby
- pri kompilaci za behu se nekde spatne expanduje ~
- jak zkoupilovat rucne, aby se dalo zjistit, kde je problem?

- ruby 1.9.2 muze mit problem skompilovat extension pro 2.1.1 (nehlede na to, ze
  je to stary passenger), kdyby se nainstaloval novy passenger pres 2.0 (nebo
  2.1), mozna by nebyl takovy problem potom zmenit pro jednotlive projekty ruby na
  starsi

- PassengerLoadShellEnvvars <on|off> by mohlo pomoct s nastavenim HOME, ale to
  je az v passengeru 4.0.20

- od 4.0.x navic stahuje precompilovane native extensions z webu

- pravdepodobne by slo vyresit instalaci passengeru v gemsetu s ruby 2.1 a
  prekopirovanim native extension, ale passenger < 4.0 se v ruby >= 2.0
  nebuildne kvuli cannot load such file -- rubygems/builder
http://stackoverflow.com/questions/15232856/passenger-cannot-load-such-file-rubygems-builder

- napsat honzovi report, idealne vyzkouset na jinem stroji, kde muzu
  nainstalovat passenger pod novym ruby
